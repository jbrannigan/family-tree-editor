{"ast":null,"code":"var _jsxFileName = \"/home/jbrannigan/src/familytree/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport TreeView from \"./TreeView\";\nimport GraphView from \"./GraphView\";\nimport UploadButton from \"./UploadButton\";\nimport DownloadButtons from \"./DownloadButtons\";\nimport { parseTree } from \"./utils/parseTree\";\nimport { generateHTML } from \"./utils/generateHTML\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [treeText, setTreeText] = useState(\"\");\n  const [treeData, setTreeData] = useState([]);\n  const [focusedNode, setFocusedNode] = useState(null);\n\n  // Parse tree text into JSON structure\n  useEffect(() => {\n    try {\n      const parsed = parseTree(treeText);\n      setTreeData(parsed);\n    } catch (err) {\n      console.error(\"Parse error:\", err);\n      setTreeData([]);\n    }\n  }, [treeText]);\n  const displayedTree = focusedNode ? focusedNode : treeData;\n  const handleFileLoad = text => {\n    setTreeText(text);\n  };\n  const handleTextChange = e => {\n    setTreeText(e.target.value);\n  };\n  const handleFocus = node => {\n    setFocusedNode(node);\n  };\n  const handleUnfocus = () => {\n    setFocusedNode(null);\n  };\n  const handleDownloadHTML = () => {\n    if (!treeData || treeData.length === 0) return;\n    const htmlContent = generateHTML(treeData);\n    downloadFile(\"tree.html\", htmlContent, \"text/html\");\n  };\n  const handleDownloadJSON = () => {\n    if (!treeData || treeData.length === 0) return;\n    const jsonContent = JSON.stringify(treeData, null, 2);\n    downloadFile(\"tree.json\", jsonContent, \"application/json\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      padding: \"1rem\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Tree Text Editor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: treeText,\n          onChange: handleTextChange,\n          rows: 25,\n          cols: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UploadButton, {\n          onLoad: handleFileLoad\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DownloadButtons, {\n          treeText: treeText,\n          treeData: treeData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TreeView, {\n          tree: displayedTree,\n          onFocus: handleFocus,\n          focusedNodeId: focusedNode ? focusedNode.id : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), focusedNode && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUnfocus,\n          style: {\n            marginTop: \"1rem\"\n          },\n          children: \"Unfocus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(GraphView, {\n          tree: displayedTree\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"7Qq5a6kVu8lPU7v9C4sm+avRsJA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","TreeView","GraphView","UploadButton","DownloadButtons","parseTree","generateHTML","jsxDEV","_jsxDEV","App","_s","treeText","setTreeText","treeData","setTreeData","focusedNode","setFocusedNode","parsed","err","console","error","displayedTree","handleFileLoad","text","handleTextChange","e","target","value","handleFocus","node","handleUnfocus","handleDownloadHTML","length","htmlContent","downloadFile","handleDownloadJSON","jsonContent","JSON","stringify","className","style","padding","children","display","gap","flex","fileName","_jsxFileName","lineNumber","columnNumber","onChange","rows","cols","onLoad","tree","onFocus","focusedNodeId","id","onClick","marginTop","_c","$RefreshReg$"],"sources":["/home/jbrannigan/src/familytree/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TreeView from \"./TreeView\";\r\nimport GraphView from \"./GraphView\";\r\nimport UploadButton from \"./UploadButton\";\r\nimport DownloadButtons from \"./DownloadButtons\";\r\nimport { parseTree } from \"./utils/parseTree\";\r\nimport { generateHTML } from \"./utils/generateHTML\";\r\n\r\nfunction App() {\r\n  const [treeText, setTreeText] = useState(\"\");\r\n  const [treeData, setTreeData] = useState([]);\r\n  const [focusedNode, setFocusedNode] = useState(null);\r\n\r\n  // Parse tree text into JSON structure\r\n  useEffect(() => {\r\n    try {\r\n      const parsed = parseTree(treeText);\r\n      setTreeData(parsed);\r\n    } catch (err) {\r\n      console.error(\"Parse error:\", err);\r\n      setTreeData([]);\r\n    }\r\n  }, [treeText]);\r\n\r\n  const displayedTree = focusedNode ? focusedNode : treeData;\r\n\r\n  const handleFileLoad = (text) => {\r\n    setTreeText(text);\r\n  };\r\n\r\n  const handleTextChange = (e) => {\r\n    setTreeText(e.target.value);\r\n  };\r\n\r\n  const handleFocus = (node) => {\r\n    setFocusedNode(node);\r\n  };\r\n\r\n  const handleUnfocus = () => {\r\n    setFocusedNode(null);\r\n  };\r\n\r\n  const handleDownloadHTML = () => {\r\n    if (!treeData || treeData.length === 0) return;\r\n    const htmlContent = generateHTML(treeData);\r\n    downloadFile(\"tree.html\", htmlContent, \"text/html\");\r\n  };\r\n\r\n  const handleDownloadJSON = () => {\r\n    if (!treeData || treeData.length === 0) return;\r\n    const jsonContent = JSON.stringify(treeData, null, 2);\r\n    downloadFile(\"tree.json\", jsonContent, \"application/json\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\" style={{ padding: \"1rem\" }}>\r\n      <div style={{ display: \"flex\", gap: \"1rem\" }}>\r\n        <div style={{ flex: 1 }}>\r\n          <h3>Tree Text Editor</h3>\r\n          <textarea\r\n            value={treeText}\r\n            onChange={handleTextChange}\r\n            rows={25}\r\n            cols={50}\r\n          />\r\n          <br />\r\n          <UploadButton onLoad={handleFileLoad} />\r\n          <DownloadButtons treeText={treeText} treeData={treeData} />\r\n        </div>\r\n\r\n        <div style={{ flex: 1 }}>\r\n          <TreeView\r\n            tree={displayedTree}\r\n            onFocus={handleFocus}\r\n            focusedNodeId={focusedNode ? focusedNode.id : null}\r\n          />\r\n          {focusedNode && (\r\n            <button onClick={handleUnfocus} style={{ marginTop: \"1rem\" }}>\r\n              Unfocus\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ flex: 1 }}>\r\n          <GraphView tree={displayedTree} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,SAASC,SAAS,QAAQ,mBAAmB;AAC7C,SAASC,YAAY,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;;EAEpD;EACAC,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMiB,MAAM,GAAGZ,SAAS,CAACM,QAAQ,CAAC;MAClCG,WAAW,CAACG,MAAM,CAAC;IACrB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAEF,GAAG,CAAC;MAClCJ,WAAW,CAAC,EAAE,CAAC;IACjB;EACF,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,MAAMU,aAAa,GAAGN,WAAW,GAAGA,WAAW,GAAGF,QAAQ;EAE1D,MAAMS,cAAc,GAAIC,IAAI,IAAK;IAC/BX,WAAW,CAACW,IAAI,CAAC;EACnB,CAAC;EAED,MAAMC,gBAAgB,GAAIC,CAAC,IAAK;IAC9Bb,WAAW,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMC,WAAW,GAAIC,IAAI,IAAK;IAC5Bb,cAAc,CAACa,IAAI,CAAC;EACtB,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1Bd,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMe,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAAClB,QAAQ,IAAIA,QAAQ,CAACmB,MAAM,KAAK,CAAC,EAAE;IACxC,MAAMC,WAAW,GAAG3B,YAAY,CAACO,QAAQ,CAAC;IAC1CqB,YAAY,CAAC,WAAW,EAAED,WAAW,EAAE,WAAW,CAAC;EACrD,CAAC;EAED,MAAME,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAACtB,QAAQ,IAAIA,QAAQ,CAACmB,MAAM,KAAK,CAAC,EAAE;IACxC,MAAMI,WAAW,GAAGC,IAAI,CAACC,SAAS,CAACzB,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACrDqB,YAAY,CAAC,WAAW,EAAEE,WAAW,EAAE,kBAAkB,CAAC;EAC5D,CAAC;EAED,oBACE5B,OAAA;IAAK+B,SAAS,EAAC,KAAK;IAACC,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,eAC9ClC,OAAA;MAAKgC,KAAK,EAAE;QAAEG,OAAO,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAF,QAAA,gBAC3ClC,OAAA;QAAKgC,KAAK,EAAE;UAAEK,IAAI,EAAE;QAAE,CAAE;QAAAH,QAAA,gBACtBlC,OAAA;UAAAkC,QAAA,EAAI;QAAgB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBzC,OAAA;UACEmB,KAAK,EAAEhB,QAAS;UAChBuC,QAAQ,EAAE1B,gBAAiB;UAC3B2B,IAAI,EAAE,EAAG;UACTC,IAAI,EAAE;QAAG;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC,eACFzC,OAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNzC,OAAA,CAACL,YAAY;UAACkD,MAAM,EAAE/B;QAAe;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxCzC,OAAA,CAACJ,eAAe;UAACO,QAAQ,EAAEA,QAAS;UAACE,QAAQ,EAAEA;QAAS;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,eAENzC,OAAA;QAAKgC,KAAK,EAAE;UAAEK,IAAI,EAAE;QAAE,CAAE;QAAAH,QAAA,gBACtBlC,OAAA,CAACP,QAAQ;UACPqD,IAAI,EAAEjC,aAAc;UACpBkC,OAAO,EAAE3B,WAAY;UACrB4B,aAAa,EAAEzC,WAAW,GAAGA,WAAW,CAAC0C,EAAE,GAAG;QAAK;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,EACDlC,WAAW,iBACVP,OAAA;UAAQkD,OAAO,EAAE5B,aAAc;UAACU,KAAK,EAAE;YAAEmB,SAAS,EAAE;UAAO,CAAE;UAAAjB,QAAA,EAAC;QAE9D;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENzC,OAAA;QAAKgC,KAAK,EAAE;UAAEK,IAAI,EAAE;QAAE,CAAE;QAAAH,QAAA,eACtBlC,OAAA,CAACN,SAAS;UAACoD,IAAI,EAAEjC;QAAc;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvC,EAAA,CAjFQD,GAAG;AAAAmD,EAAA,GAAHnD,GAAG;AAmFZ,eAAeA,GAAG;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}