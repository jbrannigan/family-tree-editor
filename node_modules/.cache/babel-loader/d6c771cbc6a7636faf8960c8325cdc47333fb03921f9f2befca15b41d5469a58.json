{"ast":null,"code":"var _jsxFileName = \"/home/jbrannigan/src/familytree/src/TreeView.js\",\n  _s = $RefreshSig$();\n// TreeView.js\nimport React, { useState } from \"react\";\nimport \"./TreeView.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Row({\n  children,\n  level\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tree-row\",\n    style: {\n      marginLeft: level * 18\n    } // indentation\n    ,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = Row;\nfunction Toggle({\n  visible,\n  expanded,\n  onClick\n}) {\n  if (!visible) return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"tree-toggle-spacer\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    className: \"tree-toggle\",\n    \"aria-label\": expanded ? \"Collapse\" : \"Expand\",\n    onClick: onClick,\n    children: expanded ? \"‚ñæ\" : \"‚ñ∏\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Toggle;\nfunction TreeNode({\n  node,\n  level,\n  onFocus,\n  focusedNodeId\n}) {\n  _s();\n  const [expanded, setExpanded] = useState(true);\n  const hasChildren = Array.isArray(node.children) && node.children.length > 0;\n  const isFocused = focusedNodeId === node.id;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"tree-node\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      level: level,\n      children: [/*#__PURE__*/_jsxDEV(Toggle, {\n        visible: hasChildren,\n        expanded: expanded,\n        onClick: () => setExpanded(e => !e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `tree-node-name ${isFocused ? \"focused\" : \"\"}`,\n        children: node.name || \"(unnamed)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), !isFocused && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"tree-focus-btn\",\n        title: \"Focus\",\n        onClick: () => onFocus(node),\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), hasChildren && expanded && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"tree-children\",\n      children: node.children.map((child, i) => {\n        var _child$id, _node$id;\n        return /*#__PURE__*/_jsxDEV(TreeNode, {\n          node: child,\n          level: level + 1,\n          onFocus: onFocus,\n          focusedNodeId: focusedNodeId\n        }, (_child$id = child.id) !== null && _child$id !== void 0 ? _child$id : `${(_node$id = node.id) !== null && _node$id !== void 0 ? _node$id : node.name}-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(TreeNode, \"NZEs4N34I2vU569ODzuIjdsqMlo=\");\n_c3 = TreeNode;\nexport default function TreeView({\n  tree,\n  onFocus,\n  focusedNodeId\n}) {\n  if (!tree) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No tree data available\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 21\n  }, this);\n  const nodes = Array.isArray(tree) ? tree : [tree];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tree-view\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"tree-root\",\n      children: nodes.map((n, i) => {\n        var _n$id;\n        return /*#__PURE__*/_jsxDEV(TreeNode, {\n          node: n,\n          level: 0,\n          onFocus: onFocus,\n          focusedNodeId: focusedNodeId\n        }, (_n$id = n.id) !== null && _n$id !== void 0 ? _n$id : `${n.name}-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_c4 = TreeView;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Row\");\n$RefreshReg$(_c2, \"Toggle\");\n$RefreshReg$(_c3, \"TreeNode\");\n$RefreshReg$(_c4, \"TreeView\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Row","children","level","className","style","marginLeft","fileName","_jsxFileName","lineNumber","columnNumber","_c","Toggle","visible","expanded","onClick","type","_c2","TreeNode","node","onFocus","focusedNodeId","_s","setExpanded","hasChildren","Array","isArray","length","isFocused","id","e","name","title","map","child","i","_child$id","_node$id","_c3","TreeView","tree","nodes","n","_n$id","_c4","$RefreshReg$"],"sources":["/home/jbrannigan/src/familytree/src/TreeView.js"],"sourcesContent":["// TreeView.js\r\nimport React, { useState } from \"react\";\r\nimport \"./TreeView.css\";\r\n\r\nfunction Row({ children, level }) {\r\n  return (\r\n    <div\r\n      className=\"tree-row\"\r\n      style={{ marginLeft: level * 18 }} // indentation\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Toggle({ visible, expanded, onClick }) {\r\n  if (!visible) return <span className=\"tree-toggle-spacer\" />;\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"tree-toggle\"\r\n      aria-label={expanded ? \"Collapse\" : \"Expand\"}\r\n      onClick={onClick}\r\n    >\r\n      {expanded ? \"‚ñæ\" : \"‚ñ∏\"}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction TreeNode({ node, level, onFocus, focusedNodeId }) {\r\n  const [expanded, setExpanded] = useState(true);\r\n  const hasChildren = Array.isArray(node.children) && node.children.length > 0;\r\n  const isFocused = focusedNodeId === node.id;\r\n\r\n  return (\r\n    <li className=\"tree-node\">\r\n      <Row level={level}>\r\n        <Toggle\r\n          visible={hasChildren}\r\n          expanded={expanded}\r\n          onClick={() => setExpanded((e) => !e)}\r\n        />\r\n\r\n        <span className={`tree-node-name ${isFocused ? \"focused\" : \"\"}`}>\r\n          {node.name || \"(unnamed)\"}\r\n        </span>\r\n\r\n        {/* de-emphasized focus control */}\r\n        {!isFocused && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"tree-focus-btn\"\r\n            title=\"Focus\"\r\n            onClick={() => onFocus(node)}\r\n          >\r\n            üîç\r\n          </button>\r\n        )}\r\n      </Row>\r\n\r\n      {hasChildren && expanded && (\r\n        <ul className=\"tree-children\">\r\n          {node.children.map((child, i) => (\r\n            <TreeNode\r\n              key={child.id ?? `${node.id ?? node.name}-${i}`}\r\n              node={child}\r\n              level={level + 1}\r\n              onFocus={onFocus}\r\n              focusedNodeId={focusedNodeId}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default function TreeView({ tree, onFocus, focusedNodeId }) {\r\n  if (!tree) return <div>No tree data available</div>;\r\n  const nodes = Array.isArray(tree) ? tree : [tree];\r\n\r\n  return (\r\n    <div className=\"tree-view\">\r\n      <ul className=\"tree-root\">\r\n        {nodes.map((n, i) => (\r\n          <TreeNode\r\n            key={n.id ?? `${n.name}-${i}`}\r\n            node={n}\r\n            level={0}\r\n            onFocus={onFocus}\r\n            focusedNodeId={focusedNodeId}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}